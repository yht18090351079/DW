{"ast":null,"code":"var _jsxFileName = \"/Volumes/ORICO/\\u516C\\u53F8/\\u65B0\\u7586\\u7535\\u7F51/\\u6837\\u4F8B/src/components/MapComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport './MapComponent.css';\nimport { powerGridData, userGridData, areaLossData, abnormalMeters } from '../data/powerGridData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MapComponent = () => {\n  _s();\n  var _selectedStation$load, _selectedStation$load2, _selectedStation$load3, _selectedStation$load4, _selectedStation$load5, _selectedStation$load6, _selectedStation$load7;\n  const mapRef = useRef(null);\n  const mapInstance = useRef(null);\n  const [showValidationPanel, setShowValidationPanel] = useState(false);\n  const [showAbnormalList, setShowAbnormalList] = useState(false);\n  const [showLossAnalysis, setShowLossAnalysis] = useState(false);\n  const [validationResults, setValidationResults] = useState([]);\n  const [showLoadMonitor, setShowLoadMonitor] = useState(false);\n  const [selectedStation, setSelectedStation] = useState(null);\n  const [showMeterBoxes, setShowMeterBoxes] = useState(false);\n  const [, setCurrentZoom] = useState(10);\n  const [meterBoxInfoWindows, setMeterBoxInfoWindows] = useState([]);\n  useEffect(() => {\n    // 延迟检查，确保高德地图API有时间加载\n    const timer = setTimeout(() => {\n      if (!window.AMap) {\n        console.warn('高德地图API未加载，启用演示模式');\n        showFallbackMap();\n        return;\n      }\n      try {\n        // 初始化地图\n        mapInstance.current = new window.AMap.Map(mapRef.current, {\n          zoom: 10,\n          center: [116.397428, 39.90923],\n          // 北京中心点\n          mapStyle: 'amap://styles/blue',\n          // 蓝色主题\n          viewMode: '2D',\n          lang: 'zh_cn'\n        });\n\n        // 地图加载完成后添加电力电网数据点\n        mapInstance.current.on('complete', () => {\n          addPowerGridMarkers();\n        });\n\n        // 监听地图缩放变化\n        mapInstance.current.on('zoomchange', () => {\n          const zoom = mapInstance.current.getZoom();\n          setCurrentZoom(zoom);\n          handleZoomChange(zoom);\n        });\n      } catch (error) {\n        console.error('地图初始化失败:', error);\n        showFallbackMap();\n      }\n    }, 1000);\n\n    // 清理函数\n    return () => {\n      clearTimeout(timer);\n      if (mapInstance.current) {\n        try {\n          mapInstance.current.destroy();\n        } catch (error) {\n          console.warn('地图销毁时出错:', error);\n        }\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // 添加全局函数到window对象，供信息窗口调用\n  useEffect(() => {\n    window.showMeterLayout = boxId => {\n      const userBox = userGridData.find(item => item.id === boxId);\n      if (userBox && userBox.meterLayout) {\n        alert(`表箱内部布局：\n${userBox.meterLayout.meters.map(meter => `表计${meter.id}: ${meter.householder} (${meter.status}) - ${meter.voltage}V`).join('\\n')}`);\n      }\n    };\n    window.fixValidationError = deviceId => {\n      alert(`正在修复设备 ${deviceId} 的校验错误...`);\n      // 这里可以实现实际的修复逻辑\n    };\n    return () => {\n      delete window.showMeterLayout;\n      delete window.fixValidationError;\n    };\n  }, []);\n  const showFallbackMap = () => {\n    // 显示模拟地图界面\n    if (mapRef.current) {\n      mapRef.current.innerHTML = `\n        <div style=\"\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          position: relative;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: white;\n          font-size: 18px;\n          text-align: center;\n        \">\n          <div>\n            <h3 style=\"margin-bottom: 20px;\">📍 电力电网地图演示模式</h3>\n            <p style=\"margin-bottom: 10px;\">高德地图API未配置</p>\n            <p style=\"margin-bottom: 20px; font-size: 14px; opacity: 0.8;\">\n              请申请高德地图API Key并在 public/index.html 中配置\n            </p>\n            <p style=\"font-size: 14px; opacity: 0.8;\">\n              或查看 demo.html 文件获得完整演示效果\n            </p>\n          </div>\n        </div>\n      `;\n      // 添加模拟的电力设施标记\n      addFallbackMarkers();\n    }\n  };\n  const addFallbackMarkers = () => {\n    // 设施点位\n    const facilities = [{\n      name: '北京第一热电厂',\n      type: '发电厂',\n      x: 20,\n      y: 15,\n      status: '正常'\n    }, {\n      name: '朝阳变电站',\n      type: '变电站',\n      x: 40,\n      y: 25,\n      status: '正常'\n    }, {\n      name: '海淀变电站',\n      type: '变电站',\n      x: 15,\n      y: 35,\n      status: '维护'\n    }, {\n      name: '大兴燃气电厂',\n      type: '发电厂',\n      x: 25,\n      y: 65,\n      status: '正常'\n    }, {\n      name: '丰台变电站',\n      type: '变电站',\n      x: 35,\n      y: 55,\n      status: '正常'\n    }];\n\n    // 输电线路（连接各个设施）\n    const transmissionLines = [{\n      name: '东城输电线路1',\n      start: {\n        x: 20,\n        y: 15\n      },\n      end: {\n        x: 40,\n        y: 25\n      },\n      status: '正常'\n    }, {\n      name: '西城输电线路2',\n      start: {\n        x: 15,\n        y: 35\n      },\n      end: {\n        x: 35,\n        y: 55\n      },\n      status: '故障'\n    }, {\n      name: '房山输电线路3',\n      start: {\n        x: 25,\n        y: 65\n      },\n      end: {\n        x: 35,\n        y: 55\n      },\n      status: '正常'\n    }];\n\n    // 绘制设施点位\n    facilities.forEach(facility => {\n      const markerEl = document.createElement('div');\n      const colors = {\n        '发电厂': '#ff6600',\n        '变电站': '#0066ff'\n      };\n      const icons = {\n        '发电厂': '⚡',\n        '变电站': '🔌'\n      };\n      markerEl.style.cssText = `\n        position: absolute;\n        left: ${facility.x}%;\n        top: ${facility.y}%;\n        width: 30px;\n        height: 30px;\n        background: ${colors[facility.type]};\n        border-radius: 50%;\n        border: 2px solid white;\n        color: white;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 14px;\n        cursor: pointer;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n        animation: pulse 2s infinite;\n        z-index: 10;\n      `;\n      markerEl.innerHTML = icons[facility.type];\n      markerEl.title = `${facility.name} - ${facility.status}`;\n      mapRef.current.appendChild(markerEl);\n    });\n\n    // 绘制输电线路\n    transmissionLines.forEach(line => {\n      const lineEl = document.createElement('div');\n      const dx = line.end.x - line.start.x;\n      const dy = line.end.y - line.start.y;\n      const length = Math.sqrt(dx * dx + dy * dy);\n      const angle = Math.atan2(dy, dx) * 180 / Math.PI;\n      const lineColor = line.status === '故障' ? '#ff0000' : '#00ff00';\n      const lineStyle = line.status === '故障' ? 'dashed' : 'solid';\n      lineEl.style.cssText = `\n        position: absolute;\n        left: ${line.start.x}%;\n        top: ${line.start.y}%;\n        width: ${length}%;\n        height: 4px;\n        background: ${lineColor};\n        border-radius: 2px;\n        transform-origin: 0 50%;\n        transform: rotate(${angle}deg);\n        cursor: pointer;\n        z-index: 5;\n        ${lineStyle === 'dashed' ? 'border: 2px dashed ' + lineColor + '; background: transparent;' : ''}\n      `;\n      lineEl.title = `${line.name} - ${line.status}`;\n      mapRef.current.appendChild(lineEl);\n\n      // 在线路中点添加标识\n      const midX = (line.start.x + line.end.x) / 2;\n      const midY = (line.start.y + line.end.y) / 2;\n      const lineLabelEl = document.createElement('div');\n      lineLabelEl.style.cssText = `\n        position: absolute;\n        left: ${midX}%;\n        top: ${midY}%;\n        width: 20px;\n        height: 20px;\n        background: #ff3300;\n        border-radius: 50%;\n        border: 2px solid white;\n        color: white;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 12px;\n        cursor: pointer;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n        z-index: 15;\n      `;\n      lineLabelEl.innerHTML = '🔗';\n      lineLabelEl.title = `${line.name} - ${line.status}`;\n      mapRef.current.appendChild(lineLabelEl);\n    });\n  };\n\n  // 处理地图缩放变化\n  const handleZoomChange = zoom => {\n    if (zoom >= 14) {\n      // 高缩放级别时显示表箱详细信息\n      showMeterBoxDetails();\n    } else {\n      // 低缩放级别时隐藏表箱详细信息\n      hideMeterBoxDetails();\n    }\n  };\n\n  // 显示表箱详细信息\n  const showMeterBoxDetails = () => {\n    // 清除之前的信息窗口\n    meterBoxInfoWindows.forEach(infoWindow => {\n      infoWindow.close();\n    });\n    const newInfoWindows = [];\n    userGridData.forEach(box => {\n      const infoWindow = new window.AMap.InfoWindow({\n        content: generateMeterLayoutHtml(box.meterLayout),\n        offset: new window.AMap.Pixel(0, -30),\n        closeWhenClickMap: false,\n        autoMove: false\n      });\n      infoWindow.open(mapInstance.current, new window.AMap.LngLat(box.longitude, box.latitude));\n      newInfoWindows.push(infoWindow);\n    });\n    setMeterBoxInfoWindows(newInfoWindows);\n  };\n\n  // 隐藏表箱详细信息\n  const hideMeterBoxDetails = () => {\n    meterBoxInfoWindows.forEach(infoWindow => {\n      infoWindow.close();\n    });\n    setMeterBoxInfoWindows([]);\n  };\n  const addPowerGridMarkers = () => {\n    // 添加电力设备\n    powerGridData.forEach(item => {\n      if (item.type === '输电线路') {\n        // 绘制输电线路\n        addTransmissionLine(item);\n      } else {\n        // 绘制点标记（发电厂、变电站）\n        addPointMarker(item);\n      }\n    });\n\n    // 添加用户设备（表箱）\n    userGridData.forEach(item => {\n      addUserMarker(item);\n    });\n\n    // 添加所有异常设备的可视化标识\n    addAbnormalDeviceMarkers();\n  };\n\n  // 添加异常设备可视化标记（适合打印）\n  const addAbnormalDeviceMarkers = () => {\n    // 收集所有异常设备\n    const allAbnormalDevices = [];\n\n    // 收集电力设备异常\n    powerGridData.forEach(device => {\n      if (device.validationErrors && device.validationErrors.length > 0) {\n        allAbnormalDevices.push({\n          id: device.id,\n          name: device.name,\n          type: device.type,\n          location: {\n            lng: device.longitude,\n            lat: device.latitude\n          },\n          errors: device.validationErrors\n        });\n      }\n    });\n\n    // 收集表箱异常\n    userGridData.forEach(box => {\n      var _box$meterLayout, _box$meterLayout$mete;\n      const abnormalMeters = ((_box$meterLayout = box.meterLayout) === null || _box$meterLayout === void 0 ? void 0 : (_box$meterLayout$mete = _box$meterLayout.meters) === null || _box$meterLayout$mete === void 0 ? void 0 : _box$meterLayout$mete.filter(m => m.status !== '正常')) || [];\n      if (abnormalMeters.length > 0) {\n        allAbnormalDevices.push({\n          id: box.id,\n          name: box.name,\n          type: '表箱异常',\n          location: {\n            lng: box.longitude,\n            lat: box.latitude\n          },\n          errors: abnormalMeters.map(m => ({\n            type: 'warning',\n            message: `${m.id}: ${m.status}`,\n            field: 'meter_status'\n          }))\n        });\n      }\n    });\n\n    // 为每个异常设备添加可视化标记\n    allAbnormalDevices.forEach(device => {\n      addAbnormalDeviceMarker(device);\n    });\n  };\n\n  // 添加单个异常设备标记\n  const addAbnormalDeviceMarker = device => {\n    const hasError = device.errors.some(e => e.type === 'error');\n    const color = hasError ? '#ff0000' : '#ffa500';\n    const size = hasError ? 1000 : 800;\n\n    // 添加圆圈标识（适合打印）\n    const circle = new window.AMap.Circle({\n      center: new window.AMap.LngLat(device.location.lng, device.location.lat),\n      radius: size,\n      strokeColor: color,\n      strokeWeight: 4,\n      strokeStyle: hasError ? 'solid' : 'dashed',\n      fillColor: color,\n      fillOpacity: 0.1\n    });\n    circle.setMap(mapInstance.current);\n\n    // 添加异常标记图标\n    const marker = new window.AMap.Marker({\n      position: new window.AMap.LngLat(device.location.lng, device.location.lat),\n      icon: new window.AMap.Icon({\n        size: new window.AMap.Size(30, 30),\n        image: createAbnormalIcon(hasError),\n        imageOffset: new window.AMap.Pixel(-15, -15)\n      }),\n      title: `${device.name} - ${device.errors.length}个异常`,\n      zIndex: 1500\n    });\n    marker.setMap(mapInstance.current);\n  };\n\n  // 创建异常设备图标\n  const createAbnormalIcon = isError => {\n    const color = isError ? '#ff0000' : '#ffa500';\n    const symbol = isError ? '!' : '!'; // 使用英文感叹号避免编码问题\n\n    const svgContent = `<svg width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"15\" cy=\"15\" r=\"12\" fill=\"${color}\" stroke=\"#fff\" stroke-width=\"2\" opacity=\"0.9\"/>\n        <circle cx=\"15\" cy=\"15\" r=\"8\" fill=\"none\" stroke=\"#fff\" stroke-width=\"1\"/>\n        <text x=\"15\" y=\"20\" text-anchor=\"middle\" font-size=\"14\" fill=\"#fff\" font-weight=\"bold\">${symbol}</text>\n      </svg>`;\n    return `data:image/svg+xml;base64,${btoa(svgContent)}`;\n  };\n\n  // 设备校验功能\n  const performDeviceValidation = (targetArea = 'all') => {\n    const allDevices = [...powerGridData, ...userGridData];\n    const results = [];\n    allDevices.forEach(device => {\n      if (device.validationErrors && device.validationErrors.length > 0) {\n        results.push({\n          id: device.id,\n          name: device.name,\n          type: device.type,\n          errors: device.validationErrors,\n          location: {\n            lng: device.longitude,\n            lat: device.latitude\n          }\n        });\n      }\n    });\n    setValidationResults(results);\n    setShowValidationPanel(true);\n\n    // 在地图上高亮显示有错误的设备\n    highlightValidationErrors(results);\n  };\n\n  // 高亮显示校验错误设备\n  const highlightValidationErrors = results => {\n    results.forEach(result => {\n      const errorLevel = result.errors.some(e => e.type === 'error') ? 'error' : 'warning';\n      const color = errorLevel === 'error' ? '#ff0000' : '#ffa500';\n\n      // 添加静态异常标识圆圈（适合打印）\n      const circle = new window.AMap.Circle({\n        center: new window.AMap.LngLat(result.location.lng, result.location.lat),\n        radius: 800,\n        // 800米半径\n        strokeColor: color,\n        strokeWeight: 4,\n        strokeStyle: errorLevel === 'error' ? 'solid' : 'dashed',\n        fillColor: color,\n        fillOpacity: 0.15\n      });\n      circle.setMap(mapInstance.current);\n\n      // 添加错误标记\n      const errorMarker = new window.AMap.Marker({\n        position: new window.AMap.LngLat(result.location.lng, result.location.lat),\n        icon: new window.AMap.Icon({\n          size: new window.AMap.Size(60, 60),\n          image: createErrorIcon(errorLevel),\n          imageOffset: new window.AMap.Pixel(-30, -30)\n        }),\n        title: `${result.name} - ${result.errors.length}个错误`,\n        extData: result,\n        zIndex: 1000\n      });\n      errorMarker.on('click', e => {\n        showValidationErrorWindow(e.target);\n      });\n      mapInstance.current.add(errorMarker);\n    });\n  };\n\n  // 创建错误图标（优化打印效果）\n  const createErrorIcon = level => {\n    const color = level === 'error' ? '#ff0000' : '#ffa500';\n    const symbol = level === 'error' ? '⚠' : '!';\n    const strokePattern = level === 'error' ? '0' : '5,5';\n    return `data:image/svg+xml;base64,${btoa(`\n      <svg width=\"60\" height=\"60\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"30\" cy=\"30\" r=\"25\" fill=\"${color}\" stroke=\"#000\" stroke-width=\"4\"\n                stroke-dasharray=\"${strokePattern}\" opacity=\"0.9\"/>\n        <circle cx=\"30\" cy=\"30\" r=\"20\" fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"/>\n        <text x=\"30\" y=\"38\" text-anchor=\"middle\" font-size=\"18\" fill=\"#fff\" font-weight=\"bold\">${symbol}</text>\n        <text x=\"30\" y=\"52\" text-anchor=\"middle\" font-size=\"6\" fill=\"#000\" font-weight=\"bold\">异常</text>\n      </svg>\n    `)}`;\n  };\n  const addPointMarker = item => {\n    // 创建自定义图标\n    const icon = new window.AMap.Icon({\n      size: new window.AMap.Size(40, 40),\n      image: getIconByType(item.type),\n      imageOffset: new window.AMap.Pixel(0, 0)\n    });\n\n    // 创建标记点\n    const marker = new window.AMap.Marker({\n      position: new window.AMap.LngLat(item.longitude, item.latitude),\n      icon: icon,\n      title: item.name,\n      extData: item\n    });\n\n    // 添加点击事件\n    marker.on('click', e => {\n      showInfoWindow(e.target);\n    });\n\n    // 将标记添加到地图\n    mapInstance.current.add(marker);\n  };\n\n  // 添加用户表箱标记\n  const addUserMarker = item => {\n    var _item$meterLayout, _item$meterLayout$met;\n    // 检查是否有异常表计\n    const abnormalMeters = ((_item$meterLayout = item.meterLayout) === null || _item$meterLayout === void 0 ? void 0 : (_item$meterLayout$met = _item$meterLayout.meters) === null || _item$meterLayout$met === void 0 ? void 0 : _item$meterLayout$met.filter(m => m.status !== '正常')) || [];\n    const hasAbnormalMeters = abnormalMeters.length > 0;\n\n    // 创建表箱图标 - 异常表箱显示红色，正常表箱显示蓝色\n    const createMeterBoxIcon = isAbnormal => {\n      const color = isAbnormal ? '#ff0000' : '#00ccff';\n      const strokeColor = isAbnormal ? '#cc0000' : '#0099cc';\n\n      // 避免中文字符编码问题，使用英文或符号\n      const svgContent = `<svg width=\"35\" height=\"35\" viewBox=\"0 0 35 35\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <rect x=\"2\" y=\"2\" width=\"31\" height=\"31\" rx=\"4\" fill=\"${color}\" stroke=\"#fff\" stroke-width=\"2\"/>\n          <rect x=\"6\" y=\"6\" width=\"23\" height=\"23\" rx=\"2\" fill=\"none\" stroke=\"${strokeColor}\" stroke-width=\"1\"/>\n          <rect x=\"8\" y=\"8\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"16\" y=\"8\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"24\" y=\"8\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"8\" y=\"16\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"16\" y=\"16\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"24\" y=\"16\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"8\" y=\"24\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"16\" y=\"24\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"24\" y=\"24\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <circle cx=\"17.5\" cy=\"28\" r=\"3\" fill=\"#fff\" opacity=\"0.9\"/>\n        </svg>`;\n      return `data:image/svg+xml;base64,${btoa(svgContent)}`;\n    };\n    const icon = new window.AMap.Icon({\n      size: new window.AMap.Size(35, 35),\n      image: createMeterBoxIcon(hasAbnormalMeters),\n      imageOffset: new window.AMap.Pixel(0, 0)\n    });\n    const marker = new window.AMap.Marker({\n      position: new window.AMap.LngLat(item.longitude, item.latitude),\n      icon: icon,\n      title: item.name + (hasAbnormalMeters ? ` (${abnormalMeters.length}个异常表计)` : ''),\n      extData: item\n    });\n\n    // 如果有异常表计，添加轻微的闪烁效果\n    if (hasAbnormalMeters) {\n      marker.setAnimation('AMAP_ANIMATION_DROP');\n    }\n    marker.on('click', e => {\n      showUserInfoWindow(e.target);\n    });\n    mapInstance.current.add(marker);\n  };\n  const addTransmissionLine = lineData => {\n    // 创建线路路径\n    const path = [[lineData.startPoint.longitude, lineData.startPoint.latitude], [lineData.endPoint.longitude, lineData.endPoint.latitude]];\n\n    // 根据状态设置线路颜色\n    const getLineColor = status => {\n      switch (status) {\n        case '正常':\n          return '#00ff00';\n        case '故障':\n          return '#ff0000';\n        case '维护':\n          return '#ffa500';\n        case '停运':\n          return '#808080';\n        default:\n          return '#0066ff';\n      }\n    };\n\n    // 创建线路\n    const polyline = new window.AMap.Polyline({\n      path: path,\n      strokeColor: getLineColor(lineData.status),\n      strokeWeight: 6,\n      strokeOpacity: 0.8,\n      strokeStyle: lineData.status === '故障' ? 'dashed' : 'solid',\n      extData: lineData\n    });\n\n    // 添加点击事件\n    polyline.on('click', e => {\n      showLineInfoWindow(e.target, e.lnglat);\n    });\n\n    // 将线路添加到地图\n    mapInstance.current.add(polyline);\n\n    // 在线路中点添加标识\n    const midLat = (lineData.startPoint.latitude + lineData.endPoint.latitude) / 2;\n    const midLng = (lineData.startPoint.longitude + lineData.endPoint.longitude) / 2;\n    const lineMarker = new window.AMap.Marker({\n      position: new window.AMap.LngLat(midLng, midLat),\n      icon: new window.AMap.Icon({\n        size: new window.AMap.Size(30, 30),\n        image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTUiIGN5PSIxNSIgcj0iMTIiIGZpbGw9IiNmZjMzMDAiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik04IDE1aDE0IiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMyIvPgo8L3N2Zz4=',\n        imageOffset: new window.AMap.Pixel(0, 0)\n      }),\n      title: lineData.name,\n      extData: lineData\n    });\n    lineMarker.on('click', e => {\n      showLineInfoWindow(e.target, e.target.getPosition());\n    });\n    mapInstance.current.add(lineMarker);\n  };\n  const getIconByType = type => {\n    const iconMap = {\n      '发电厂': 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMTgiIGZpbGw9IiNmZjY2MDAiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik0xMiAxNmw0IDRsLTQgNGw0IDRsLTQgNGg4djRoNHYtNGg0bC00LTRsNC00bC00LTRsNC00aC00di00aC00djRoLTRsMCA0eiIgZmlsbD0iI2ZmZiIvPgo8L3N2Zz4=',\n      '变电站': 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMTgiIGZpbGw9IiMwMDY2ZmYiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxyZWN0IHg9IjE0IiB5PSIxMCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjgiIGZpbGw9IiNmZmYiLz4KPHJlY3QgeD0iMTQiIHk9IjIyIiB3aWR0aD0iMTIiIGhlaWdodD0iOCIgZmlsbD0iI2ZmZiIvPgo8bGluZSB4MT0iMTQiIHkxPSIxOCIgeDI9IjI2IiB5Mj0iMTgiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxsaW5lIHgxPSIxNCIgeTE9IjIyIiB4Mj0iMjYiIHkyPSIyMiIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+',\n      '输电线路': 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMTgiIGZpbGw9IiNmZjMzMDAiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik0xMCAyMGw2LTZsNiA2bDYtNiIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiLz4KPHBhdGggZD0iTTEwIDI2bDYtNmw2IDZsNi02IiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIvPgo8L3N2Zz4='\n    };\n    return iconMap[type] || iconMap['发电厂'];\n  };\n  const showInfoWindow = marker => {\n    const data = marker.getExtData();\n    const infoWindow = new window.AMap.InfoWindow({\n      content: `\n        <div class=\"info-window\">\n          <h3>${data.name}</h3>\n          <p><strong>类型:</strong> ${data.type}</p>\n          <p><strong>容量:</strong> ${data.capacity}</p>\n          <p><strong>状态:</strong> <span class=\"status ${data.status}\">${data.status}</span></p>\n          <p><strong>负荷:</strong> ${data.load}</p>\n          <p><strong>位置:</strong> ${data.address}</p>\n        </div>\n      `,\n      offset: new window.AMap.Pixel(0, -30)\n    });\n    infoWindow.open(mapInstance.current, marker.getPosition());\n  };\n  const showLineInfoWindow = (lineOrMarker, position) => {\n    const data = lineOrMarker.getExtData();\n    const lineDetails = data.lineDetails || {};\n    const infoWindow = new window.AMap.InfoWindow({\n      content: `\n        <div class=\"info-window\">\n          <h3>${data.name}</h3>\n          <p><strong>类型:</strong> ${data.type}</p>\n          <p><strong>容量:</strong> ${data.capacity}</p>\n          <p><strong>状态:</strong> <span class=\"status ${data.status}\">${data.status}</span></p>\n          <p><strong>负荷:</strong> ${data.load}</p>\n          <p><strong>起点:</strong> ${data.startPoint.name}</p>\n          <p><strong>终点:</strong> ${data.endPoint.name}</p>\n          <p><strong>导线型号:</strong> ${lineDetails.wireType || 'N/A'}</p>\n          <p><strong>线径:</strong> ${lineDetails.diameter || 'N/A'}</p>\n          <p><strong>敷设长度:</strong> ${lineDetails.length || 'N/A'}</p>\n          <p><strong>位置:</strong> ${data.address}</p>\n        </div>\n      `,\n      offset: new window.AMap.Pixel(0, -30)\n    });\n    infoWindow.open(mapInstance.current, position);\n  };\n\n  // 显示用户信息窗口\n  const showUserInfoWindow = marker => {\n    var _data$meterLayout, _data$meterLayout2;\n    const data = marker.getExtData();\n    const voltage = data.voltageData || {};\n    const meters = ((_data$meterLayout = data.meterLayout) === null || _data$meterLayout === void 0 ? void 0 : _data$meterLayout.meters) || [];\n    const abnormalMeters = meters.filter(m => m.status !== '正常');\n    const owingMeters = meters.filter(m => m.paymentStatus === '欠费');\n\n    // 生成表箱内部布局HTML\n    const meterLayoutHtml = generateMeterLayoutHtml(data.meterLayout);\n    const infoWindow = new window.AMap.InfoWindow({\n      content: `\n        <div class=\"info-window meter-box-window\">\n          <h3>${data.name}</h3>\n          <p><strong>类型:</strong> ${data.type}</p>\n          <p><strong>电压:</strong> ${voltage.current || 'N/A'}V (${voltage.status || 'N/A'})</p>\n          <p><strong>表计总数:</strong> ${((_data$meterLayout2 = data.meterLayout) === null || _data$meterLayout2 === void 0 ? void 0 : _data$meterLayout2.totalMeters) || 0}</p>\n          <p><strong>异常表计:</strong> ${abnormalMeters.length}个</p>\n          <p><strong>欠费用户:</strong> ${owingMeters.length}个</p>\n          <p><strong>位置:</strong> ${data.address}</p>\n          <div class=\"meter-layout-container\">\n            <h4>表箱内部布局</h4>\n            ${meterLayoutHtml}\n          </div>\n        </div>\n      `,\n      offset: new window.AMap.Pixel(0, -30)\n    });\n    infoWindow.open(mapInstance.current, marker.getPosition());\n  };\n\n  // 生成表箱内部布局HTML\n  const generateMeterLayoutHtml = meterLayout => {\n    if (!meterLayout || !meterLayout.meters) {\n      return '<p>暂无布局信息</p>';\n    }\n    const meters = meterLayout.meters;\n    const totalMeters = meterLayout.totalMeters || meters.length;\n\n    // 计算网格布局 (3列布局)\n    const cols = 3;\n    let layoutHtml = '<div class=\"meter-grid\">';\n    for (let i = 0; i < totalMeters; i++) {\n      const meter = meters[i];\n      if (meter) {\n        const statusClass = getStatusClass(meter.status);\n        const paymentClass = meter.paymentStatus === '欠费' ? 'owing' : '';\n        const powerTypeClass = getPowerTypeClass(meter.powerType);\n        layoutHtml += `\n          <div class=\"meter-slot ${statusClass} ${paymentClass} ${powerTypeClass}\"\n               title=\"${meter.householder} - ${meter.status} - ${meter.powerType} - ${meter.userType}\">\n            <div class=\"meter-id\">${meter.id}</div>\n            <div class=\"meter-user\">${meter.householder}</div>\n            <div class=\"meter-type\">${meter.userType}</div>\n            <div class=\"meter-power-type\">${meter.powerType}</div>\n            <div class=\"meter-voltage\">${meter.voltage}V</div>\n            <div class=\"meter-status\">${meter.status}</div>\n            ${meter.paymentStatus === '欠费' ? `<div class=\"owing-amount\">欠费: ¥${meter.owingAmount}</div>` : ''}\n          </div>\n        `;\n      } else {\n        layoutHtml += '<div class=\"meter-slot empty\">空位</div>';\n      }\n    }\n    layoutHtml += '</div>';\n    return layoutHtml;\n  };\n\n  // 获取状态样式类\n  const getStatusClass = status => {\n    switch (status) {\n      case '正常':\n        return 'normal';\n      case '通信故障':\n        return 'comm-error';\n      case '电压异常':\n        return 'voltage-error';\n      case '数据错误':\n        return 'data-error';\n      default:\n        return 'unknown';\n    }\n  };\n\n  // 获取用电类型样式类\n  const getPowerTypeClass = powerType => {\n    switch (powerType) {\n      case 'A相':\n        return 'phase-a';\n      case 'B相':\n        return 'phase-b';\n      case 'C相':\n        return 'phase-c';\n      default:\n        return '';\n    }\n  };\n\n  // 定位异常表计\n  const locateAbnormalMeter = meterId => {\n    // 查找包含该表计的表箱\n    const meterBox = userGridData.find(box => {\n      var _box$meterLayout2, _box$meterLayout2$met;\n      return (_box$meterLayout2 = box.meterLayout) === null || _box$meterLayout2 === void 0 ? void 0 : (_box$meterLayout2$met = _box$meterLayout2.meters) === null || _box$meterLayout2$met === void 0 ? void 0 : _box$meterLayout2$met.some(meter => meter.id === meterId);\n    });\n    if (meterBox && mapInstance.current) {\n      // 定位到表箱位置\n      const position = new window.AMap.LngLat(meterBox.longitude, meterBox.latitude);\n      mapInstance.current.setCenter(position);\n      mapInstance.current.setZoom(16);\n\n      // 高亮显示该表箱\n      const highlightMarker = new window.AMap.Marker({\n        position: position,\n        icon: new window.AMap.Icon({\n          size: new window.AMap.Size(80, 80),\n          image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iNDAiIGN5PSI0MCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmMDAwMCIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtZGFzaGFycmF5PSI1LDUiPgogIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9InIiIHZhbHVlcz0iMzU7NDU7MzUiIGR1cj0iMnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+CiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ic3Ryb2tlLW9wYWNpdHkiIHZhbHVlcz0iMTswLjM7MSIgZHVyPSIycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz4KPC9jaXJjbGU+Cjwvc3ZnPg==',\n          imageOffset: new window.AMap.Pixel(-40, -40)\n        }),\n        zIndex: 2000\n      });\n      mapInstance.current.add(highlightMarker);\n\n      // 3秒后移除高亮标记\n      setTimeout(() => {\n        mapInstance.current.remove(highlightMarker);\n      }, 3000);\n\n      // 关闭异常表计面板\n      setShowAbnormalList(false);\n\n      // 显示表箱信息\n      setTimeout(() => {\n        const boxMarker = mapInstance.current.getAllOverlays('marker').find(marker => {\n          var _marker$getExtData;\n          return ((_marker$getExtData = marker.getExtData()) === null || _marker$getExtData === void 0 ? void 0 : _marker$getExtData.id) === meterBox.id;\n        });\n        if (boxMarker) {\n          showUserInfoWindow(boxMarker);\n        }\n      }, 500);\n    }\n  };\n\n  // 定位设备校验错误\n  const locateValidationError = (deviceId, location) => {\n    if (mapInstance.current && location) {\n      // 移动地图到设备位置\n      const position = new window.AMap.LngLat(location.lng, location.lat);\n      mapInstance.current.setCenter(position);\n      mapInstance.current.setZoom(15);\n\n      // 添加闪烁动画标记\n      const highlightMarker = new window.AMap.Marker({\n        position: position,\n        icon: new window.AMap.Icon({\n          size: new window.AMap.Size(100, 100),\n          image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjQ1IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZjAwMDAiIHN0cm9rZS13aWR0aD0iNiIgc3Ryb2tlLWRhc2hhcnJheT0iMTAsMTAiPgogIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9InIiIHZhbHVlcz0iNDU7NjA7NDUiIGR1cj0iMnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+CiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ic3Ryb2tlLW9wYWNpdHkiIHZhbHVlcz0iMTswLjI7MSIgZHVyPSIycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjIwIiBmaWxsPSIjZmYwMDAwIiBvcGFjaXR5PSIwLjgiLz4KPHN2ZyB4PSI0MCIgeT0iNDAiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+Cjx0ZXh0IHg9IjEwIiB5PSIxNSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNiIgZmlsbD0iI2ZmZiIgZm9udC13ZWlnaHQ9ImJvbGQiPuKaoTwvdGV4dD4KPC9zdmc+Cjwvc3ZnPg==',\n          imageOffset: new window.AMap.Pixel(-50, -50)\n        }),\n        zIndex: 2000\n      });\n      mapInstance.current.add(highlightMarker);\n\n      // 5秒后移除标记\n      setTimeout(() => {\n        mapInstance.current.remove(highlightMarker);\n      }, 5000);\n\n      // 关闭校验面板\n      setShowValidationPanel(false);\n    }\n  };\n\n  // 显示校验错误信息窗口\n  const showValidationErrorWindow = marker => {\n    const data = marker.getExtData();\n    const errorsHtml = data.errors.map(error => `\n      <div class=\"error-item ${error.type}\">\n        <span class=\"error-type\">${error.type === 'error' ? '错误' : '警告'}</span>\n        <span class=\"error-message\">${error.message}</span>\n        <span class=\"error-field\">(${error.field})</span>\n      </div>\n    `).join('');\n    const infoWindow = new window.AMap.InfoWindow({\n      content: `\n        <div class=\"info-window validation-error\">\n          <h3>⚠️ ${data.name}</h3>\n          <p><strong>设备类型:</strong> ${data.type}</p>\n          <p><strong>发现问题:</strong> ${data.errors.length}个</p>\n          <div class=\"error-list\">${errorsHtml}</div>\n          <button onclick=\"fixValidationError('${data.id}')\" class=\"btn-fix\">修复问题</button>\n        </div>\n      `,\n      offset: new window.AMap.Pixel(0, -30)\n    });\n    infoWindow.open(mapInstance.current, new window.AMap.LngLat(data.location.lng, data.location.lat));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u56FE\\u4F8B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 855,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-icon power-plant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 857,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u53D1\\u7535\\u5382\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 858,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 856,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-icon substation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 861,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u53D8\\u7535\\u7AD9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 862,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 860,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-icon transmission\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 865,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u8F93\\u7535\\u7EBF\\u8DEF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 864,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-icon meter-box\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 869,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u8868\\u7BB1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 870,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 868,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 854,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u8BBE\\u5907\\u7BA1\\u7406\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 875,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn validation-btn\",\n          onClick: () => performDeviceValidation(),\n          children: \"\\uD83D\\uDCCB \\u8BBE\\u5907\\u6821\\u9A8C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 876,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn\",\n          onClick: () => setShowAbnormalList(true),\n          children: \"\\u26A0\\uFE0F \\u5F02\\u5E38\\u8868\\u8BA1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 882,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn\",\n          onClick: () => setShowLossAnalysis(true),\n          children: \"\\uD83D\\uDCCA \\u7EBF\\u635F\\u5206\\u6790\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 888,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn\",\n          onClick: () => setShowLoadMonitor(true),\n          children: \"\\uD83D\\uDCC8 \\u8D1F\\u8377\\u76D1\\u63A7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 894,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn\",\n          onClick: () => setShowMeterBoxes(!showMeterBoxes),\n          children: \"\\uD83D\\uDCE6 \\u8868\\u7BB1\\u5C55\\u793A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 900,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn\",\n          onClick: () => window.print(),\n          children: \"\\uD83D\\uDDA8\\uFE0F \\u6253\\u5370\\u5730\\u56FE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 906,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 874,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 853,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapRef,\n      className: \"map\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 915,\n      columnNumber: 7\n    }, this), showValidationPanel && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"validation-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCCB \\u8BBE\\u5907\\u6821\\u9A8C\\u7ED3\\u679C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 921,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowValidationPanel(false),\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 922,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 920,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u53D1\\u73B0 \", validationResults.length, \" \\u4E2A\\u8BBE\\u5907\\u5B58\\u5728\\u95EE\\u9898\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 925,\n          columnNumber: 13\n        }, this), validationResults.map(result => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"validation-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"device-name\",\n              children: result.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"device-type\",\n              children: result.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 930,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 928,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-count\",\n            children: [result.errors.length, \" \\u4E2A\\u95EE\\u9898\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 932,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-summary\",\n            children: result.errors.map((error, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `error-tag ${error.type}`,\n              children: error.message\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 937,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 935,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"validation-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"locate-btn\",\n              onClick: () => locateValidationError(result.id, result.location),\n              children: \"\\uD83D\\uDCCD \\u5B9A\\u4F4D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 943,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 942,\n            columnNumber: 17\n          }, this)]\n        }, result.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 927,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 924,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 919,\n      columnNumber: 9\n    }, this), showAbnormalList && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"abnormal-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u26A0\\uFE0F \\u5F02\\u5E38\\u8868\\u8BA1\\u6E05\\u5355\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 960,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAbnormalList(false),\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 961,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 959,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"abnormal-list\",\n          children: abnormalMeters.map(meter => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"abnormal-item\",\n            onClick: () => locateAbnormalMeter(meter.id),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"meter-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"meter-id\",\n                children: meter.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 968,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"householder\",\n                children: meter.householder\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 969,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 967,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"meter-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"address\",\n                children: meter.address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 972,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status ${meter.type}`,\n                children: meter.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 973,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 971,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"last-online\",\n              children: [\"\\u6700\\u540E\\u4E0A\\u7EBF: \", meter.lastOnline]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 975,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"locate-btn\",\n              children: \"\\uD83D\\uDCCD \\u70B9\\u51FB\\u5B9A\\u4F4D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 978,\n              columnNumber: 19\n            }, this)]\n          }, meter.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 966,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 964,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 963,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 958,\n      columnNumber: 9\n    }, this), showLossAnalysis && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loss-analysis-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCCA \\u53F0\\u533A\\u7EBF\\u635F\\u5206\\u6790\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 992,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowLossAnalysis(false),\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 993,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 991,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-content\",\n        children: areaLossData.map(area => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loss-chart\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: area.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 998,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-legend\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"legend-theoretical\",\n                children: \"\\u7406\\u8BBA\\u7EBF\\u635F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1001,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"legend-actual\",\n                children: \"\\u5B9E\\u9645\\u7EBF\\u635F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1002,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1000,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-data\",\n              children: area.dates.map((date, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chart-bar\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bar-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bar theoretical\",\n                    style: {\n                      height: `${area.theoreticalLoss[index] * 20}px`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1008,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bar actual\",\n                    style: {\n                      height: `${area.actualLoss[index] * 20}px`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1012,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1007,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"bar-label\",\n                  children: date.slice(-2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1017,\n                  columnNumber: 25\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1006,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1004,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 999,\n            columnNumber: 17\n          }, this)]\n        }, area.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 997,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 995,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 990,\n      columnNumber: 9\n    }, this), showLoadMonitor && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"load-monitor-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCC8 \\u53D8\\u7535\\u7AD9\\u8D1F\\u8377\\u76D1\\u63A7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1032,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowLoadMonitor(false),\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1033,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1031,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"station-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u9009\\u62E9\\u53D8\\u7535\\u7AD9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1037,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"station-list\",\n            children: powerGridData.filter(item => item.type === '变电站').map(station => {\n              var _station$loadData;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `station-item ${(selectedStation === null || selectedStation === void 0 ? void 0 : selectedStation.id) === station.id ? 'selected' : ''}`,\n                onClick: () => setSelectedStation(station),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"station-name\",\n                  children: station.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1045,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"station-load\",\n                  children: [\"\\u5F53\\u524D\\u8D1F\\u8377: \", ((_station$loadData = station.loadData) === null || _station$loadData === void 0 ? void 0 : _station$loadData.current) || 0, \"MW\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1046,\n                  columnNumber: 21\n                }, this)]\n              }, station.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1040,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1038,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1036,\n          columnNumber: 13\n        }, this), selectedStation && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"load-chart-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [selectedStation.name, \" - \\u8D1F\\u8377\\u53D8\\u5316\\u8D8B\\u52BF\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1054,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"load-chart\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-y-axis\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"200MW\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1057,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"150MW\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1058,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"100MW\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1059,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"50MW\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1060,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"0MW\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1061,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1056,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-area\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"300\",\n                height: \"150\",\n                viewBox: \"0 0 300 150\",\n                children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n                  children: /*#__PURE__*/_jsxDEV(\"pattern\", {\n                    id: \"grid\",\n                    width: \"60\",\n                    height: \"30\",\n                    patternUnits: \"userSpaceOnUse\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M 60 0 L 0 0 0 30\",\n                      fill: \"none\",\n                      stroke: \"#ecf0f1\",\n                      strokeWidth: \"1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1068,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1067,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1066,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n                  width: \"100%\",\n                  height: \"100%\",\n                  fill: \"url(#grid)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1071,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                  fill: \"none\",\n                  stroke: \"#3498db\",\n                  strokeWidth: \"3\",\n                  points: ((_selectedStation$load = selectedStation.loadData) === null || _selectedStation$load === void 0 ? void 0 : (_selectedStation$load2 = _selectedStation$load.history) === null || _selectedStation$load2 === void 0 ? void 0 : _selectedStation$load2.map((load, index) => `${index * 60 + 30},${150 - load / 200 * 150}`).join(' ')) || ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1074,\n                  columnNumber: 23\n                }, this), (_selectedStation$load3 = selectedStation.loadData) === null || _selectedStation$load3 === void 0 ? void 0 : (_selectedStation$load4 = _selectedStation$load3.history) === null || _selectedStation$load4 === void 0 ? void 0 : _selectedStation$load4.map((load, index) => /*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: index * 60 + 30,\n                  cy: 150 - load / 200 * 150,\n                  r: \"4\",\n                  fill: \"#3498db\",\n                  stroke: \"#fff\",\n                  strokeWidth: \"2\"\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1085,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1064,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1063,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-x-axis\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"5\\u5929\\u524D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1098,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"4\\u5929\\u524D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1099,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"3\\u5929\\u524D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1100,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"2\\u5929\\u524D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1101,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u6628\\u5929\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1102,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1097,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1055,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"load-stats\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"\\u5F53\\u524D\\u8D1F\\u8377\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1108,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-value\",\n                children: [((_selectedStation$load5 = selectedStation.loadData) === null || _selectedStation$load5 === void 0 ? void 0 : _selectedStation$load5.current) || 0, \"MW\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1109,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1107,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"\\u5E73\\u5747\\u8D1F\\u8377\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1112,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-value\",\n                children: [(_selectedStation$load6 = selectedStation.loadData) !== null && _selectedStation$load6 !== void 0 && _selectedStation$load6.history ? Math.round(selectedStation.loadData.history.reduce((a, b) => a + b, 0) / selectedStation.loadData.history.length) : 0, \"MW\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1113,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1111,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"\\u5CF0\\u503C\\u8D1F\\u8377\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1119,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-value\",\n                children: [(_selectedStation$load7 = selectedStation.loadData) !== null && _selectedStation$load7 !== void 0 && _selectedStation$load7.history ? Math.max(...selectedStation.loadData.history) : 0, \"MW\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1120,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1118,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1106,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1053,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1035,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1030,\n      columnNumber: 9\n    }, this), showMeterBoxes && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"meter-boxes-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCE6 \\u8868\\u7BB1\\u5185\\u90E8\\u5E03\\u5C40\\u5C55\\u793A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1135,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowMeterBoxes(false),\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1136,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1134,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"meter-boxes-grid\",\n          children: userGridData.map(box => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"meter-box-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"box-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: box.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1143,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"box-address\",\n                children: box.address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1144,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1142,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"meter-layout-display\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                dangerouslySetInnerHTML: {\n                  __html: generateMeterLayoutHtml(box.meterLayout)\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1147,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1146,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"box-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u603B\\u8868\\u4F4D: \", box.meterLayout.totalMeters]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1152,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u5F02\\u5E38: \", box.meterLayout.meters.filter(m => m.status !== '正常').length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1153,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u6B20\\u8D39: \", box.meterLayout.meters.filter(m => m.paymentStatus === '欠费').length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1154,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1151,\n              columnNumber: 19\n            }, this)]\n          }, box.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1141,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1139,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1138,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1133,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 852,\n    columnNumber: 5\n  }, this);\n};\n_s(MapComponent, \"bS6VRTTsNimijCXe7SN7a+4dRCM=\");\n_c = MapComponent;\nexport default MapComponent;\nvar _c;\n$RefreshReg$(_c, \"MapComponent\");","map":{"version":3,"names":["React","useEffect","useRef","useState","powerGridData","userGridData","areaLossData","abnormalMeters","jsxDEV","_jsxDEV","MapComponent","_s","_selectedStation$load","_selectedStation$load2","_selectedStation$load3","_selectedStation$load4","_selectedStation$load5","_selectedStation$load6","_selectedStation$load7","mapRef","mapInstance","showValidationPanel","setShowValidationPanel","showAbnormalList","setShowAbnormalList","showLossAnalysis","setShowLossAnalysis","validationResults","setValidationResults","showLoadMonitor","setShowLoadMonitor","selectedStation","setSelectedStation","showMeterBoxes","setShowMeterBoxes","setCurrentZoom","meterBoxInfoWindows","setMeterBoxInfoWindows","timer","setTimeout","window","AMap","console","warn","showFallbackMap","current","Map","zoom","center","mapStyle","viewMode","lang","on","addPowerGridMarkers","getZoom","handleZoomChange","error","clearTimeout","destroy","showMeterLayout","boxId","userBox","find","item","id","meterLayout","alert","meters","map","meter","householder","status","voltage","join","fixValidationError","deviceId","innerHTML","addFallbackMarkers","facilities","name","type","x","y","transmissionLines","start","end","forEach","facility","markerEl","document","createElement","colors","icons","style","cssText","title","appendChild","line","lineEl","dx","dy","length","Math","sqrt","angle","atan2","PI","lineColor","lineStyle","midX","midY","lineLabelEl","showMeterBoxDetails","hideMeterBoxDetails","infoWindow","close","newInfoWindows","box","InfoWindow","content","generateMeterLayoutHtml","offset","Pixel","closeWhenClickMap","autoMove","open","LngLat","longitude","latitude","push","addTransmissionLine","addPointMarker","addUserMarker","addAbnormalDeviceMarkers","allAbnormalDevices","device","validationErrors","location","lng","lat","errors","_box$meterLayout","_box$meterLayout$mete","filter","m","message","field","addAbnormalDeviceMarker","hasError","some","e","color","size","circle","Circle","radius","strokeColor","strokeWeight","strokeStyle","fillColor","fillOpacity","setMap","marker","Marker","position","icon","Icon","Size","image","createAbnormalIcon","imageOffset","zIndex","isError","symbol","svgContent","btoa","performDeviceValidation","targetArea","allDevices","results","highlightValidationErrors","result","errorLevel","errorMarker","createErrorIcon","extData","showValidationErrorWindow","target","add","level","strokePattern","getIconByType","showInfoWindow","_item$meterLayout","_item$meterLayout$met","hasAbnormalMeters","createMeterBoxIcon","isAbnormal","setAnimation","showUserInfoWindow","lineData","path","startPoint","endPoint","getLineColor","polyline","Polyline","strokeOpacity","showLineInfoWindow","lnglat","midLat","midLng","lineMarker","getPosition","iconMap","data","getExtData","capacity","load","address","lineOrMarker","lineDetails","wireType","diameter","_data$meterLayout","_data$meterLayout2","voltageData","owingMeters","paymentStatus","meterLayoutHtml","totalMeters","cols","layoutHtml","i","statusClass","getStatusClass","paymentClass","powerTypeClass","getPowerTypeClass","powerType","userType","owingAmount","locateAbnormalMeter","meterId","meterBox","_box$meterLayout2","_box$meterLayout2$met","setCenter","setZoom","highlightMarker","remove","boxMarker","getAllOverlays","_marker$getExtData","locateValidationError","errorsHtml","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","print","ref","index","lastOnline","area","dates","date","height","theoreticalLoss","actualLoss","slice","station","_station$loadData","loadData","width","viewBox","patternUnits","d","fill","stroke","strokeWidth","points","history","cx","cy","r","round","reduce","a","b","max","dangerouslySetInnerHTML","__html","_c","$RefreshReg$"],"sources":["/Volumes/ORICO/公司/新疆电网/样例/src/components/MapComponent.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport './MapComponent.css';\nimport { powerGridData, userGridData, areaLossData, abnormalMeters } from '../data/powerGridData';\n\nconst MapComponent = () => {\n  const mapRef = useRef(null);\n  const mapInstance = useRef(null);\n  const [showValidationPanel, setShowValidationPanel] = useState(false);\n  const [showAbnormalList, setShowAbnormalList] = useState(false);\n  const [showLossAnalysis, setShowLossAnalysis] = useState(false);\n  const [validationResults, setValidationResults] = useState([]);\n  const [showLoadMonitor, setShowLoadMonitor] = useState(false);\n  const [selectedStation, setSelectedStation] = useState(null);\n  const [showMeterBoxes, setShowMeterBoxes] = useState(false);\n  const [, setCurrentZoom] = useState(10);\n  const [meterBoxInfoWindows, setMeterBoxInfoWindows] = useState([]);\n\n  useEffect(() => {\n    // 延迟检查，确保高德地图API有时间加载\n    const timer = setTimeout(() => {\n      if (!window.AMap) {\n        console.warn('高德地图API未加载，启用演示模式');\n        showFallbackMap();\n        return;\n      }\n\n      try {\n        // 初始化地图\n        mapInstance.current = new window.AMap.Map(mapRef.current, {\n          zoom: 10,\n          center: [116.397428, 39.90923], // 北京中心点\n          mapStyle: 'amap://styles/blue', // 蓝色主题\n          viewMode: '2D',\n          lang: 'zh_cn'\n        });\n\n        // 地图加载完成后添加电力电网数据点\n        mapInstance.current.on('complete', () => {\n          addPowerGridMarkers();\n        });\n\n        // 监听地图缩放变化\n        mapInstance.current.on('zoomchange', () => {\n          const zoom = mapInstance.current.getZoom();\n          setCurrentZoom(zoom);\n          handleZoomChange(zoom);\n        });\n\n      } catch (error) {\n        console.error('地图初始化失败:', error);\n        showFallbackMap();\n      }\n    }, 1000);\n\n    // 清理函数\n    return () => {\n      clearTimeout(timer);\n      if (mapInstance.current) {\n        try {\n          mapInstance.current.destroy();\n        } catch (error) {\n          console.warn('地图销毁时出错:', error);\n        }\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // 添加全局函数到window对象，供信息窗口调用\n  useEffect(() => {\n    window.showMeterLayout = (boxId) => {\n      const userBox = userGridData.find(item => item.id === boxId);\n      if (userBox && userBox.meterLayout) {\n        alert(`表箱内部布局：\n${userBox.meterLayout.meters.map(meter => \n  `表计${meter.id}: ${meter.householder} (${meter.status}) - ${meter.voltage}V`\n).join('\\n')}`);\n      }\n    };\n\n    window.fixValidationError = (deviceId) => {\n      alert(`正在修复设备 ${deviceId} 的校验错误...`);\n      // 这里可以实现实际的修复逻辑\n    };\n\n    return () => {\n      delete window.showMeterLayout;\n      delete window.fixValidationError;\n    };\n  }, []);\n\n  const showFallbackMap = () => {\n    // 显示模拟地图界面\n    if (mapRef.current) {\n      mapRef.current.innerHTML = `\n        <div style=\"\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          position: relative;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: white;\n          font-size: 18px;\n          text-align: center;\n        \">\n          <div>\n            <h3 style=\"margin-bottom: 20px;\">📍 电力电网地图演示模式</h3>\n            <p style=\"margin-bottom: 10px;\">高德地图API未配置</p>\n            <p style=\"margin-bottom: 20px; font-size: 14px; opacity: 0.8;\">\n              请申请高德地图API Key并在 public/index.html 中配置\n            </p>\n            <p style=\"font-size: 14px; opacity: 0.8;\">\n              或查看 demo.html 文件获得完整演示效果\n            </p>\n          </div>\n        </div>\n      `;\n      // 添加模拟的电力设施标记\n      addFallbackMarkers();\n    }\n  };\n\n  const addFallbackMarkers = () => {\n    // 设施点位\n    const facilities = [\n      { name: '北京第一热电厂', type: '发电厂', x: 20, y: 15, status: '正常' },\n      { name: '朝阳变电站', type: '变电站', x: 40, y: 25, status: '正常' },\n      { name: '海淀变电站', type: '变电站', x: 15, y: 35, status: '维护' },\n      { name: '大兴燃气电厂', type: '发电厂', x: 25, y: 65, status: '正常' },\n      { name: '丰台变电站', type: '变电站', x: 35, y: 55, status: '正常' }\n    ];\n\n    // 输电线路（连接各个设施）\n    const transmissionLines = [\n      { name: '东城输电线路1', start: { x: 20, y: 15 }, end: { x: 40, y: 25 }, status: '正常' },\n      { name: '西城输电线路2', start: { x: 15, y: 35 }, end: { x: 35, y: 55 }, status: '故障' },\n      { name: '房山输电线路3', start: { x: 25, y: 65 }, end: { x: 35, y: 55 }, status: '正常' }\n    ];\n\n    // 绘制设施点位\n    facilities.forEach(facility => {\n      const markerEl = document.createElement('div');\n      const colors = { '发电厂': '#ff6600', '变电站': '#0066ff' };\n      const icons = { '发电厂': '⚡', '变电站': '🔌' };\n      \n      markerEl.style.cssText = `\n        position: absolute;\n        left: ${facility.x}%;\n        top: ${facility.y}%;\n        width: 30px;\n        height: 30px;\n        background: ${colors[facility.type]};\n        border-radius: 50%;\n        border: 2px solid white;\n        color: white;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 14px;\n        cursor: pointer;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n        animation: pulse 2s infinite;\n        z-index: 10;\n      `;\n      markerEl.innerHTML = icons[facility.type];\n      markerEl.title = `${facility.name} - ${facility.status}`;\n      \n      mapRef.current.appendChild(markerEl);\n    });\n\n    // 绘制输电线路\n    transmissionLines.forEach(line => {\n      const lineEl = document.createElement('div');\n      const dx = line.end.x - line.start.x;\n      const dy = line.end.y - line.start.y;\n      const length = Math.sqrt(dx * dx + dy * dy);\n      const angle = Math.atan2(dy, dx) * 180 / Math.PI;\n      \n      const lineColor = line.status === '故障' ? '#ff0000' : '#00ff00';\n      const lineStyle = line.status === '故障' ? 'dashed' : 'solid';\n      \n      lineEl.style.cssText = `\n        position: absolute;\n        left: ${line.start.x}%;\n        top: ${line.start.y}%;\n        width: ${length}%;\n        height: 4px;\n        background: ${lineColor};\n        border-radius: 2px;\n        transform-origin: 0 50%;\n        transform: rotate(${angle}deg);\n        cursor: pointer;\n        z-index: 5;\n        ${lineStyle === 'dashed' ? 'border: 2px dashed ' + lineColor + '; background: transparent;' : ''}\n      `;\n      \n      lineEl.title = `${line.name} - ${line.status}`;\n      \n      mapRef.current.appendChild(lineEl);\n\n      // 在线路中点添加标识\n      const midX = (line.start.x + line.end.x) / 2;\n      const midY = (line.start.y + line.end.y) / 2;\n      \n      const lineLabelEl = document.createElement('div');\n      lineLabelEl.style.cssText = `\n        position: absolute;\n        left: ${midX}%;\n        top: ${midY}%;\n        width: 20px;\n        height: 20px;\n        background: #ff3300;\n        border-radius: 50%;\n        border: 2px solid white;\n        color: white;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 12px;\n        cursor: pointer;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n        z-index: 15;\n      `;\n      lineLabelEl.innerHTML = '🔗';\n      lineLabelEl.title = `${line.name} - ${line.status}`;\n      \n      mapRef.current.appendChild(lineLabelEl);\n    });\n  };\n\n  // 处理地图缩放变化\n  const handleZoomChange = (zoom) => {\n    if (zoom >= 14) {\n      // 高缩放级别时显示表箱详细信息\n      showMeterBoxDetails();\n    } else {\n      // 低缩放级别时隐藏表箱详细信息\n      hideMeterBoxDetails();\n    }\n  };\n\n  // 显示表箱详细信息\n  const showMeterBoxDetails = () => {\n    // 清除之前的信息窗口\n    meterBoxInfoWindows.forEach(infoWindow => {\n      infoWindow.close();\n    });\n\n    const newInfoWindows = [];\n    userGridData.forEach(box => {\n      const infoWindow = new window.AMap.InfoWindow({\n        content: generateMeterLayoutHtml(box.meterLayout),\n        offset: new window.AMap.Pixel(0, -30),\n        closeWhenClickMap: false,\n        autoMove: false\n      });\n\n      infoWindow.open(mapInstance.current, new window.AMap.LngLat(box.longitude, box.latitude));\n      newInfoWindows.push(infoWindow);\n    });\n\n    setMeterBoxInfoWindows(newInfoWindows);\n  };\n\n  // 隐藏表箱详细信息\n  const hideMeterBoxDetails = () => {\n    meterBoxInfoWindows.forEach(infoWindow => {\n      infoWindow.close();\n    });\n    setMeterBoxInfoWindows([]);\n  };\n\n  const addPowerGridMarkers = () => {\n    // 添加电力设备\n    powerGridData.forEach(item => {\n      if (item.type === '输电线路') {\n        // 绘制输电线路\n        addTransmissionLine(item);\n      } else {\n        // 绘制点标记（发电厂、变电站）\n        addPointMarker(item);\n      }\n    });\n\n    // 添加用户设备（表箱）\n    userGridData.forEach(item => {\n      addUserMarker(item);\n    });\n\n    // 添加所有异常设备的可视化标识\n    addAbnormalDeviceMarkers();\n  };\n\n  // 添加异常设备可视化标记（适合打印）\n  const addAbnormalDeviceMarkers = () => {\n    // 收集所有异常设备\n    const allAbnormalDevices = [];\n\n    // 收集电力设备异常\n    powerGridData.forEach(device => {\n      if (device.validationErrors && device.validationErrors.length > 0) {\n        allAbnormalDevices.push({\n          id: device.id,\n          name: device.name,\n          type: device.type,\n          location: { lng: device.longitude, lat: device.latitude },\n          errors: device.validationErrors\n        });\n      }\n    });\n\n    // 收集表箱异常\n    userGridData.forEach(box => {\n      const abnormalMeters = box.meterLayout?.meters?.filter(m => m.status !== '正常') || [];\n      if (abnormalMeters.length > 0) {\n        allAbnormalDevices.push({\n          id: box.id,\n          name: box.name,\n          type: '表箱异常',\n          location: { lng: box.longitude, lat: box.latitude },\n          errors: abnormalMeters.map(m => ({\n            type: 'warning',\n            message: `${m.id}: ${m.status}`,\n            field: 'meter_status'\n          }))\n        });\n      }\n    });\n\n    // 为每个异常设备添加可视化标记\n    allAbnormalDevices.forEach(device => {\n      addAbnormalDeviceMarker(device);\n    });\n  };\n\n  // 添加单个异常设备标记\n  const addAbnormalDeviceMarker = (device) => {\n    const hasError = device.errors.some(e => e.type === 'error');\n    const color = hasError ? '#ff0000' : '#ffa500';\n    const size = hasError ? 1000 : 800;\n\n    // 添加圆圈标识（适合打印）\n    const circle = new window.AMap.Circle({\n      center: new window.AMap.LngLat(device.location.lng, device.location.lat),\n      radius: size,\n      strokeColor: color,\n      strokeWeight: 4,\n      strokeStyle: hasError ? 'solid' : 'dashed',\n      fillColor: color,\n      fillOpacity: 0.1\n    });\n    circle.setMap(mapInstance.current);\n\n    // 添加异常标记图标\n    const marker = new window.AMap.Marker({\n      position: new window.AMap.LngLat(device.location.lng, device.location.lat),\n      icon: new window.AMap.Icon({\n        size: new window.AMap.Size(30, 30),\n        image: createAbnormalIcon(hasError),\n        imageOffset: new window.AMap.Pixel(-15, -15)\n      }),\n      title: `${device.name} - ${device.errors.length}个异常`,\n      zIndex: 1500\n    });\n\n    marker.setMap(mapInstance.current);\n  };\n\n  // 创建异常设备图标\n  const createAbnormalIcon = (isError) => {\n    const color = isError ? '#ff0000' : '#ffa500';\n    const symbol = isError ? '!' : '!'; // 使用英文感叹号避免编码问题\n\n    const svgContent = `<svg width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"15\" cy=\"15\" r=\"12\" fill=\"${color}\" stroke=\"#fff\" stroke-width=\"2\" opacity=\"0.9\"/>\n        <circle cx=\"15\" cy=\"15\" r=\"8\" fill=\"none\" stroke=\"#fff\" stroke-width=\"1\"/>\n        <text x=\"15\" y=\"20\" text-anchor=\"middle\" font-size=\"14\" fill=\"#fff\" font-weight=\"bold\">${symbol}</text>\n      </svg>`;\n\n    return `data:image/svg+xml;base64,${btoa(svgContent)}`;\n  };\n\n  // 设备校验功能\n  const performDeviceValidation = (targetArea = 'all') => {\n    const allDevices = [...powerGridData, ...userGridData];\n    const results = [];\n    \n    allDevices.forEach(device => {\n      if (device.validationErrors && device.validationErrors.length > 0) {\n        results.push({\n          id: device.id,\n          name: device.name,\n          type: device.type,\n          errors: device.validationErrors,\n          location: { lng: device.longitude, lat: device.latitude }\n        });\n      }\n    });\n    \n    setValidationResults(results);\n    setShowValidationPanel(true);\n    \n    // 在地图上高亮显示有错误的设备\n    highlightValidationErrors(results);\n  };\n\n  // 高亮显示校验错误设备\n  const highlightValidationErrors = (results) => {\n    results.forEach(result => {\n      const errorLevel = result.errors.some(e => e.type === 'error') ? 'error' : 'warning';\n      const color = errorLevel === 'error' ? '#ff0000' : '#ffa500';\n\n      // 添加静态异常标识圆圈（适合打印）\n      const circle = new window.AMap.Circle({\n        center: new window.AMap.LngLat(result.location.lng, result.location.lat),\n        radius: 800, // 800米半径\n        strokeColor: color,\n        strokeWeight: 4,\n        strokeStyle: errorLevel === 'error' ? 'solid' : 'dashed',\n        fillColor: color,\n        fillOpacity: 0.15\n      });\n      circle.setMap(mapInstance.current);\n\n      // 添加错误标记\n      const errorMarker = new window.AMap.Marker({\n        position: new window.AMap.LngLat(result.location.lng, result.location.lat),\n        icon: new window.AMap.Icon({\n          size: new window.AMap.Size(60, 60),\n          image: createErrorIcon(errorLevel),\n          imageOffset: new window.AMap.Pixel(-30, -30)\n        }),\n        title: `${result.name} - ${result.errors.length}个错误`,\n        extData: result,\n        zIndex: 1000\n      });\n      \n      errorMarker.on('click', (e) => {\n        showValidationErrorWindow(e.target);\n      });\n      \n      mapInstance.current.add(errorMarker);\n    });\n  };\n\n  // 创建错误图标（优化打印效果）\n  const createErrorIcon = (level) => {\n    const color = level === 'error' ? '#ff0000' : '#ffa500';\n    const symbol = level === 'error' ? '⚠' : '!';\n    const strokePattern = level === 'error' ? '0' : '5,5';\n\n    return `data:image/svg+xml;base64,${btoa(`\n      <svg width=\"60\" height=\"60\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"30\" cy=\"30\" r=\"25\" fill=\"${color}\" stroke=\"#000\" stroke-width=\"4\"\n                stroke-dasharray=\"${strokePattern}\" opacity=\"0.9\"/>\n        <circle cx=\"30\" cy=\"30\" r=\"20\" fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"/>\n        <text x=\"30\" y=\"38\" text-anchor=\"middle\" font-size=\"18\" fill=\"#fff\" font-weight=\"bold\">${symbol}</text>\n        <text x=\"30\" y=\"52\" text-anchor=\"middle\" font-size=\"6\" fill=\"#000\" font-weight=\"bold\">异常</text>\n      </svg>\n    `)}`;\n  };\n\n  const addPointMarker = (item) => {\n    // 创建自定义图标\n    const icon = new window.AMap.Icon({\n      size: new window.AMap.Size(40, 40),\n      image: getIconByType(item.type),\n      imageOffset: new window.AMap.Pixel(0, 0)\n    });\n\n    // 创建标记点\n    const marker = new window.AMap.Marker({\n      position: new window.AMap.LngLat(item.longitude, item.latitude),\n      icon: icon,\n      title: item.name,\n      extData: item\n    });\n\n    // 添加点击事件\n    marker.on('click', (e) => {\n      showInfoWindow(e.target);\n    });\n\n    // 将标记添加到地图\n    mapInstance.current.add(marker);\n  };\n\n  // 添加用户表箱标记\n  const addUserMarker = (item) => {\n    // 检查是否有异常表计\n    const abnormalMeters = item.meterLayout?.meters?.filter(m => m.status !== '正常') || [];\n    const hasAbnormalMeters = abnormalMeters.length > 0;\n\n    // 创建表箱图标 - 异常表箱显示红色，正常表箱显示蓝色\n    const createMeterBoxIcon = (isAbnormal) => {\n      const color = isAbnormal ? '#ff0000' : '#00ccff';\n      const strokeColor = isAbnormal ? '#cc0000' : '#0099cc';\n\n      // 避免中文字符编码问题，使用英文或符号\n      const svgContent = `<svg width=\"35\" height=\"35\" viewBox=\"0 0 35 35\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <rect x=\"2\" y=\"2\" width=\"31\" height=\"31\" rx=\"4\" fill=\"${color}\" stroke=\"#fff\" stroke-width=\"2\"/>\n          <rect x=\"6\" y=\"6\" width=\"23\" height=\"23\" rx=\"2\" fill=\"none\" stroke=\"${strokeColor}\" stroke-width=\"1\"/>\n          <rect x=\"8\" y=\"8\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"16\" y=\"8\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"24\" y=\"8\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"8\" y=\"16\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"16\" y=\"16\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"24\" y=\"16\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"8\" y=\"24\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"16\" y=\"24\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <rect x=\"24\" y=\"24\" width=\"6\" height=\"6\" fill=\"#fff\" opacity=\"0.8\"/>\n          <circle cx=\"17.5\" cy=\"28\" r=\"3\" fill=\"#fff\" opacity=\"0.9\"/>\n        </svg>`;\n\n      return `data:image/svg+xml;base64,${btoa(svgContent)}`;\n    };\n\n    const icon = new window.AMap.Icon({\n      size: new window.AMap.Size(35, 35),\n      image: createMeterBoxIcon(hasAbnormalMeters),\n      imageOffset: new window.AMap.Pixel(0, 0)\n    });\n\n    const marker = new window.AMap.Marker({\n      position: new window.AMap.LngLat(item.longitude, item.latitude),\n      icon: icon,\n      title: item.name + (hasAbnormalMeters ? ` (${abnormalMeters.length}个异常表计)` : ''),\n      extData: item\n    });\n\n    // 如果有异常表计，添加轻微的闪烁效果\n    if (hasAbnormalMeters) {\n      marker.setAnimation('AMAP_ANIMATION_DROP');\n    }\n\n    marker.on('click', (e) => {\n      showUserInfoWindow(e.target);\n    });\n\n    mapInstance.current.add(marker);\n  };\n\n  const addTransmissionLine = (lineData) => {\n    // 创建线路路径\n    const path = [\n      [lineData.startPoint.longitude, lineData.startPoint.latitude],\n      [lineData.endPoint.longitude, lineData.endPoint.latitude]\n    ];\n\n    // 根据状态设置线路颜色\n    const getLineColor = (status) => {\n      switch (status) {\n        case '正常': return '#00ff00';\n        case '故障': return '#ff0000';\n        case '维护': return '#ffa500';\n        case '停运': return '#808080';\n        default: return '#0066ff';\n      }\n    };\n\n    // 创建线路\n    const polyline = new window.AMap.Polyline({\n      path: path,\n      strokeColor: getLineColor(lineData.status),\n      strokeWeight: 6,\n      strokeOpacity: 0.8,\n      strokeStyle: lineData.status === '故障' ? 'dashed' : 'solid',\n      extData: lineData\n    });\n\n    // 添加点击事件\n    polyline.on('click', (e) => {\n      showLineInfoWindow(e.target, e.lnglat);\n    });\n\n    // 将线路添加到地图\n    mapInstance.current.add(polyline);\n\n    // 在线路中点添加标识\n    const midLat = (lineData.startPoint.latitude + lineData.endPoint.latitude) / 2;\n    const midLng = (lineData.startPoint.longitude + lineData.endPoint.longitude) / 2;\n    \n    const lineMarker = new window.AMap.Marker({\n      position: new window.AMap.LngLat(midLng, midLat),\n      icon: new window.AMap.Icon({\n        size: new window.AMap.Size(30, 30),\n        image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTUiIGN5PSIxNSIgcj0iMTIiIGZpbGw9IiNmZjMzMDAiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik04IDE1aDE0IiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMyIvPgo8L3N2Zz4=',\n        imageOffset: new window.AMap.Pixel(0, 0)\n      }),\n      title: lineData.name,\n      extData: lineData\n    });\n\n    lineMarker.on('click', (e) => {\n      showLineInfoWindow(e.target, e.target.getPosition());\n    });\n\n    mapInstance.current.add(lineMarker);\n  };\n\n  const getIconByType = (type) => {\n    const iconMap = {\n      '发电厂': 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMTgiIGZpbGw9IiNmZjY2MDAiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik0xMiAxNmw0IDRsLTQgNGw0IDRsLTQgNGg4djRoNHYtNGg0bC00LTRsNC00bC00LTRsNC00aC00di00aC00djRoLTRsMCA0eiIgZmlsbD0iI2ZmZiIvPgo8L3N2Zz4=',\n      '变电站': 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMTgiIGZpbGw9IiMwMDY2ZmYiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxyZWN0IHg9IjE0IiB5PSIxMCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjgiIGZpbGw9IiNmZmYiLz4KPHJlY3QgeD0iMTQiIHk9IjIyIiB3aWR0aD0iMTIiIGhlaWdodD0iOCIgZmlsbD0iI2ZmZiIvPgo8bGluZSB4MT0iMTQiIHkxPSIxOCIgeDI9IjI2IiB5Mj0iMTgiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxsaW5lIHgxPSIxNCIgeTE9IjIyIiB4Mj0iMjYiIHkyPSIyMiIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+',\n      '输电线路': 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMTgiIGZpbGw9IiNmZjMzMDAiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik0xMCAyMGw2LTZsNiA2bDYtNiIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiLz4KPHBhdGggZD0iTTEwIDI2bDYtNmw2IDZsNi02IiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIvPgo8L3N2Zz4='\n    };\n    return iconMap[type] || iconMap['发电厂'];\n  };\n\n  const showInfoWindow = (marker) => {\n    const data = marker.getExtData();\n    const infoWindow = new window.AMap.InfoWindow({\n      content: `\n        <div class=\"info-window\">\n          <h3>${data.name}</h3>\n          <p><strong>类型:</strong> ${data.type}</p>\n          <p><strong>容量:</strong> ${data.capacity}</p>\n          <p><strong>状态:</strong> <span class=\"status ${data.status}\">${data.status}</span></p>\n          <p><strong>负荷:</strong> ${data.load}</p>\n          <p><strong>位置:</strong> ${data.address}</p>\n        </div>\n      `,\n      offset: new window.AMap.Pixel(0, -30)\n    });\n    infoWindow.open(mapInstance.current, marker.getPosition());\n  };\n\n  const showLineInfoWindow = (lineOrMarker, position) => {\n    const data = lineOrMarker.getExtData();\n    const lineDetails = data.lineDetails || {};\n    const infoWindow = new window.AMap.InfoWindow({\n      content: `\n        <div class=\"info-window\">\n          <h3>${data.name}</h3>\n          <p><strong>类型:</strong> ${data.type}</p>\n          <p><strong>容量:</strong> ${data.capacity}</p>\n          <p><strong>状态:</strong> <span class=\"status ${data.status}\">${data.status}</span></p>\n          <p><strong>负荷:</strong> ${data.load}</p>\n          <p><strong>起点:</strong> ${data.startPoint.name}</p>\n          <p><strong>终点:</strong> ${data.endPoint.name}</p>\n          <p><strong>导线型号:</strong> ${lineDetails.wireType || 'N/A'}</p>\n          <p><strong>线径:</strong> ${lineDetails.diameter || 'N/A'}</p>\n          <p><strong>敷设长度:</strong> ${lineDetails.length || 'N/A'}</p>\n          <p><strong>位置:</strong> ${data.address}</p>\n        </div>\n      `,\n      offset: new window.AMap.Pixel(0, -30)\n    });\n    infoWindow.open(mapInstance.current, position);\n  };\n\n  // 显示用户信息窗口\n  const showUserInfoWindow = (marker) => {\n    const data = marker.getExtData();\n    const voltage = data.voltageData || {};\n    const meters = data.meterLayout?.meters || [];\n    const abnormalMeters = meters.filter(m => m.status !== '正常');\n    const owingMeters = meters.filter(m => m.paymentStatus === '欠费');\n\n    // 生成表箱内部布局HTML\n    const meterLayoutHtml = generateMeterLayoutHtml(data.meterLayout);\n\n    const infoWindow = new window.AMap.InfoWindow({\n      content: `\n        <div class=\"info-window meter-box-window\">\n          <h3>${data.name}</h3>\n          <p><strong>类型:</strong> ${data.type}</p>\n          <p><strong>电压:</strong> ${voltage.current || 'N/A'}V (${voltage.status || 'N/A'})</p>\n          <p><strong>表计总数:</strong> ${data.meterLayout?.totalMeters || 0}</p>\n          <p><strong>异常表计:</strong> ${abnormalMeters.length}个</p>\n          <p><strong>欠费用户:</strong> ${owingMeters.length}个</p>\n          <p><strong>位置:</strong> ${data.address}</p>\n          <div class=\"meter-layout-container\">\n            <h4>表箱内部布局</h4>\n            ${meterLayoutHtml}\n          </div>\n        </div>\n      `,\n      offset: new window.AMap.Pixel(0, -30)\n    });\n    infoWindow.open(mapInstance.current, marker.getPosition());\n  };\n\n  // 生成表箱内部布局HTML\n  const generateMeterLayoutHtml = (meterLayout) => {\n    if (!meterLayout || !meterLayout.meters) {\n      return '<p>暂无布局信息</p>';\n    }\n\n    const meters = meterLayout.meters;\n    const totalMeters = meterLayout.totalMeters || meters.length;\n\n    // 计算网格布局 (3列布局)\n    const cols = 3;\n\n    let layoutHtml = '<div class=\"meter-grid\">';\n\n    for (let i = 0; i < totalMeters; i++) {\n      const meter = meters[i];\n      if (meter) {\n        const statusClass = getStatusClass(meter.status);\n        const paymentClass = meter.paymentStatus === '欠费' ? 'owing' : '';\n        const powerTypeClass = getPowerTypeClass(meter.powerType);\n        layoutHtml += `\n          <div class=\"meter-slot ${statusClass} ${paymentClass} ${powerTypeClass}\"\n               title=\"${meter.householder} - ${meter.status} - ${meter.powerType} - ${meter.userType}\">\n            <div class=\"meter-id\">${meter.id}</div>\n            <div class=\"meter-user\">${meter.householder}</div>\n            <div class=\"meter-type\">${meter.userType}</div>\n            <div class=\"meter-power-type\">${meter.powerType}</div>\n            <div class=\"meter-voltage\">${meter.voltage}V</div>\n            <div class=\"meter-status\">${meter.status}</div>\n            ${meter.paymentStatus === '欠费' ? `<div class=\"owing-amount\">欠费: ¥${meter.owingAmount}</div>` : ''}\n          </div>\n        `;\n      } else {\n        layoutHtml += '<div class=\"meter-slot empty\">空位</div>';\n      }\n    }\n\n    layoutHtml += '</div>';\n    return layoutHtml;\n  };\n\n  // 获取状态样式类\n  const getStatusClass = (status) => {\n    switch (status) {\n      case '正常': return 'normal';\n      case '通信故障': return 'comm-error';\n      case '电压异常': return 'voltage-error';\n      case '数据错误': return 'data-error';\n      default: return 'unknown';\n    }\n  };\n\n  // 获取用电类型样式类\n  const getPowerTypeClass = (powerType) => {\n    switch (powerType) {\n      case 'A相': return 'phase-a';\n      case 'B相': return 'phase-b';\n      case 'C相': return 'phase-c';\n      default: return '';\n    }\n  };\n\n  // 定位异常表计\n  const locateAbnormalMeter = (meterId) => {\n    // 查找包含该表计的表箱\n    const meterBox = userGridData.find(box =>\n      box.meterLayout?.meters?.some(meter => meter.id === meterId)\n    );\n\n    if (meterBox && mapInstance.current) {\n      // 定位到表箱位置\n      const position = new window.AMap.LngLat(meterBox.longitude, meterBox.latitude);\n      mapInstance.current.setCenter(position);\n      mapInstance.current.setZoom(16);\n\n      // 高亮显示该表箱\n      const highlightMarker = new window.AMap.Marker({\n        position: position,\n        icon: new window.AMap.Icon({\n          size: new window.AMap.Size(80, 80),\n          image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iNDAiIGN5PSI0MCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmMDAwMCIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtZGFzaGFycmF5PSI1LDUiPgogIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9InIiIHZhbHVlcz0iMzU7NDU7MzUiIGR1cj0iMnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+CiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ic3Ryb2tlLW9wYWNpdHkiIHZhbHVlcz0iMTswLjM7MSIgZHVyPSIycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz4KPC9jaXJjbGU+Cjwvc3ZnPg==',\n          imageOffset: new window.AMap.Pixel(-40, -40)\n        }),\n        zIndex: 2000\n      });\n\n      mapInstance.current.add(highlightMarker);\n\n      // 3秒后移除高亮标记\n      setTimeout(() => {\n        mapInstance.current.remove(highlightMarker);\n      }, 3000);\n\n      // 关闭异常表计面板\n      setShowAbnormalList(false);\n\n      // 显示表箱信息\n      setTimeout(() => {\n        const boxMarker = mapInstance.current.getAllOverlays('marker').find(marker =>\n          marker.getExtData()?.id === meterBox.id\n        );\n        if (boxMarker) {\n          showUserInfoWindow(boxMarker);\n        }\n      }, 500);\n    }\n  };\n\n  // 定位设备校验错误\n  const locateValidationError = (deviceId, location) => {\n    if (mapInstance.current && location) {\n      // 移动地图到设备位置\n      const position = new window.AMap.LngLat(location.lng, location.lat);\n      mapInstance.current.setCenter(position);\n      mapInstance.current.setZoom(15);\n\n      // 添加闪烁动画标记\n      const highlightMarker = new window.AMap.Marker({\n        position: position,\n        icon: new window.AMap.Icon({\n          size: new window.AMap.Size(100, 100),\n          image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjQ1IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZjAwMDAiIHN0cm9rZS13aWR0aD0iNiIgc3Ryb2tlLWRhc2hhcnJheT0iMTAsMTAiPgogIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9InIiIHZhbHVlcz0iNDU7NjA7NDUiIGR1cj0iMnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+CiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ic3Ryb2tlLW9wYWNpdHkiIHZhbHVlcz0iMTswLjI7MSIgZHVyPSIycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjIwIiBmaWxsPSIjZmYwMDAwIiBvcGFjaXR5PSIwLjgiLz4KPHN2ZyB4PSI0MCIgeT0iNDAiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+Cjx0ZXh0IHg9IjEwIiB5PSIxNSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNiIgZmlsbD0iI2ZmZiIgZm9udC13ZWlnaHQ9ImJvbGQiPuKaoTwvdGV4dD4KPC9zdmc+Cjwvc3ZnPg==',\n          imageOffset: new window.AMap.Pixel(-50, -50)\n        }),\n        zIndex: 2000\n      });\n\n      mapInstance.current.add(highlightMarker);\n\n      // 5秒后移除标记\n      setTimeout(() => {\n        mapInstance.current.remove(highlightMarker);\n      }, 5000);\n\n      // 关闭校验面板\n      setShowValidationPanel(false);\n    }\n  };\n\n  // 显示校验错误信息窗口\n  const showValidationErrorWindow = (marker) => {\n    const data = marker.getExtData();\n    const errorsHtml = data.errors.map(error => `\n      <div class=\"error-item ${error.type}\">\n        <span class=\"error-type\">${error.type === 'error' ? '错误' : '警告'}</span>\n        <span class=\"error-message\">${error.message}</span>\n        <span class=\"error-field\">(${error.field})</span>\n      </div>\n    `).join('');\n    \n    const infoWindow = new window.AMap.InfoWindow({\n      content: `\n        <div class=\"info-window validation-error\">\n          <h3>⚠️ ${data.name}</h3>\n          <p><strong>设备类型:</strong> ${data.type}</p>\n          <p><strong>发现问题:</strong> ${data.errors.length}个</p>\n          <div class=\"error-list\">${errorsHtml}</div>\n          <button onclick=\"fixValidationError('${data.id}')\" class=\"btn-fix\">修复问题</button>\n        </div>\n      `,\n      offset: new window.AMap.Pixel(0, -30)\n    });\n    infoWindow.open(mapInstance.current, new window.AMap.LngLat(data.location.lng, data.location.lat));\n  };\n\n  return (\n    <div className=\"map-container\">\n      <div className=\"map-controls\">\n        <div className=\"legend\">\n          <h4>图例</h4>\n          <div className=\"legend-item\">\n            <div className=\"legend-icon power-plant\"></div>\n            <span>发电厂</span>\n          </div>\n          <div className=\"legend-item\">\n            <div className=\"legend-icon substation\"></div>\n            <span>变电站</span>\n          </div>\n          <div className=\"legend-item\">\n            <div className=\"legend-icon transmission\"></div>\n            <span>输电线路</span>\n          </div>\n          <div className=\"legend-item\">\n            <div className=\"legend-icon meter-box\"></div>\n            <span>表箱</span>\n          </div>\n        </div>\n        \n        <div className=\"control-panel\">\n          <h4>设备管理</h4>\n          <button \n            className=\"control-btn validation-btn\"\n            onClick={() => performDeviceValidation()}\n          >\n            📋 设备校验\n          </button>\n          <button \n            className=\"control-btn\"\n            onClick={() => setShowAbnormalList(true)}\n          >\n            ⚠️ 异常表计\n          </button>\n          <button\n            className=\"control-btn\"\n            onClick={() => setShowLossAnalysis(true)}\n          >\n            📊 线损分析\n          </button>\n          <button\n            className=\"control-btn\"\n            onClick={() => setShowLoadMonitor(true)}\n          >\n            📈 负荷监控\n          </button>\n          <button\n            className=\"control-btn\"\n            onClick={() => setShowMeterBoxes(!showMeterBoxes)}\n          >\n            📦 表箱展示\n          </button>\n          <button\n            className=\"control-btn\"\n            onClick={() => window.print()}\n          >\n            🖨️ 打印地图\n          </button>\n        </div>\n      </div>\n      \n      <div ref={mapRef} className=\"map\"></div>\n      \n      {/* 校验结果面板 */}\n      {showValidationPanel && (\n        <div className=\"validation-panel\">\n          <div className=\"panel-header\">\n            <h3>📋 设备校验结果</h3>\n            <button onClick={() => setShowValidationPanel(false)}>✕</button>\n          </div>\n          <div className=\"panel-content\">\n            <p>发现 {validationResults.length} 个设备存在问题</p>\n            {validationResults.map(result => (\n              <div key={result.id} className=\"validation-item\">\n                <div className=\"item-header\">\n                  <span className=\"device-name\">{result.name}</span>\n                  <span className=\"device-type\">{result.type}</span>\n                </div>\n                <div className=\"error-count\">\n                  {result.errors.length} 个问题\n                </div>\n                <div className=\"error-summary\">\n                  {result.errors.map((error, index) => (\n                    <span key={index} className={`error-tag ${error.type}`}>\n                      {error.message}\n                    </span>\n                  ))}\n                </div>\n                <div className=\"validation-actions\">\n                  <button\n                    className=\"locate-btn\"\n                    onClick={() => locateValidationError(result.id, result.location)}\n                  >\n                    📍 定位\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n      \n      {/* 异常表计清单 */}\n      {showAbnormalList && (\n        <div className=\"abnormal-panel\">\n          <div className=\"panel-header\">\n            <h3>⚠️ 异常表计清单</h3>\n            <button onClick={() => setShowAbnormalList(false)}>✕</button>\n          </div>\n          <div className=\"panel-content\">\n            <div className=\"abnormal-list\">\n              {abnormalMeters.map(meter => (\n                <div key={meter.id} className=\"abnormal-item\" onClick={() => locateAbnormalMeter(meter.id)}>\n                  <div className=\"meter-info\">\n                    <span className=\"meter-id\">{meter.id}</span>\n                    <span className=\"householder\">{meter.householder}</span>\n                  </div>\n                  <div className=\"meter-details\">\n                    <span className=\"address\">{meter.address}</span>\n                    <span className={`status ${meter.type}`}>{meter.type}</span>\n                  </div>\n                  <div className=\"last-online\">\n                    最后上线: {meter.lastOnline}\n                  </div>\n                  <div className=\"locate-btn\">\n                    📍 点击定位\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* 线损分析面板 */}\n      {showLossAnalysis && (\n        <div className=\"loss-analysis-panel\">\n          <div className=\"panel-header\">\n            <h3>📊 台区线损分析</h3>\n            <button onClick={() => setShowLossAnalysis(false)}>✕</button>\n          </div>\n          <div className=\"panel-content\">\n            {areaLossData.map(area => (\n              <div key={area.id} className=\"loss-chart\">\n                <h4>{area.name}</h4>\n                <div className=\"chart-container\">\n                  <div className=\"chart-legend\">\n                    <span className=\"legend-theoretical\">理论线损</span>\n                    <span className=\"legend-actual\">实际线损</span>\n                  </div>\n                  <div className=\"chart-data\">\n                    {area.dates.map((date, index) => (\n                      <div key={index} className=\"chart-bar\">\n                        <div className=\"bar-group\">\n                          <div \n                            className=\"bar theoretical\"\n                            style={{ height: `${area.theoreticalLoss[index] * 20}px` }}\n                          ></div>\n                          <div \n                            className=\"bar actual\"\n                            style={{ height: `${area.actualLoss[index] * 20}px` }}\n                          ></div>\n                        </div>\n                        <span className=\"bar-label\">{date.slice(-2)}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* 负荷监控面板 */}\n      {showLoadMonitor && (\n        <div className=\"load-monitor-panel\">\n          <div className=\"panel-header\">\n            <h3>📈 变电站负荷监控</h3>\n            <button onClick={() => setShowLoadMonitor(false)}>✕</button>\n          </div>\n          <div className=\"panel-content\">\n            <div className=\"station-selector\">\n              <h4>选择变电站</h4>\n              <div className=\"station-list\">\n                {powerGridData.filter(item => item.type === '变电站').map(station => (\n                  <div\n                    key={station.id}\n                    className={`station-item ${selectedStation?.id === station.id ? 'selected' : ''}`}\n                    onClick={() => setSelectedStation(station)}\n                  >\n                    <span className=\"station-name\">{station.name}</span>\n                    <span className=\"station-load\">当前负荷: {station.loadData?.current || 0}MW</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {selectedStation && (\n              <div className=\"load-chart-container\">\n                <h4>{selectedStation.name} - 负荷变化趋势</h4>\n                <div className=\"load-chart\">\n                  <div className=\"chart-y-axis\">\n                    <span>200MW</span>\n                    <span>150MW</span>\n                    <span>100MW</span>\n                    <span>50MW</span>\n                    <span>0MW</span>\n                  </div>\n                  <div className=\"chart-area\">\n                    <svg width=\"300\" height=\"150\" viewBox=\"0 0 300 150\">\n                      {/* 网格线 */}\n                      <defs>\n                        <pattern id=\"grid\" width=\"60\" height=\"30\" patternUnits=\"userSpaceOnUse\">\n                          <path d=\"M 60 0 L 0 0 0 30\" fill=\"none\" stroke=\"#ecf0f1\" strokeWidth=\"1\"/>\n                        </pattern>\n                      </defs>\n                      <rect width=\"100%\" height=\"100%\" fill=\"url(#grid)\" />\n\n                      {/* 负荷曲线 */}\n                      <polyline\n                        fill=\"none\"\n                        stroke=\"#3498db\"\n                        strokeWidth=\"3\"\n                        points={selectedStation.loadData?.history?.map((load, index) =>\n                          `${index * 60 + 30},${150 - (load / 200) * 150}`\n                        ).join(' ') || ''}\n                      />\n\n                      {/* 数据点 */}\n                      {selectedStation.loadData?.history?.map((load, index) => (\n                        <circle\n                          key={index}\n                          cx={index * 60 + 30}\n                          cy={150 - (load / 200) * 150}\n                          r=\"4\"\n                          fill=\"#3498db\"\n                          stroke=\"#fff\"\n                          strokeWidth=\"2\"\n                        />\n                      ))}\n                    </svg>\n                  </div>\n                  <div className=\"chart-x-axis\">\n                    <span>5天前</span>\n                    <span>4天前</span>\n                    <span>3天前</span>\n                    <span>2天前</span>\n                    <span>昨天</span>\n                  </div>\n                </div>\n\n                <div className=\"load-stats\">\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">当前负荷</span>\n                    <span className=\"stat-value\">{selectedStation.loadData?.current || 0}MW</span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">平均负荷</span>\n                    <span className=\"stat-value\">\n                      {selectedStation.loadData?.history ?\n                        Math.round(selectedStation.loadData.history.reduce((a, b) => a + b, 0) / selectedStation.loadData.history.length) : 0}MW\n                    </span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">峰值负荷</span>\n                    <span className=\"stat-value\">\n                      {selectedStation.loadData?.history ? Math.max(...selectedStation.loadData.history) : 0}MW\n                    </span>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* 表箱展示面板 */}\n      {showMeterBoxes && (\n        <div className=\"meter-boxes-panel\">\n          <div className=\"panel-header\">\n            <h3>📦 表箱内部布局展示</h3>\n            <button onClick={() => setShowMeterBoxes(false)}>✕</button>\n          </div>\n          <div className=\"panel-content\">\n            <div className=\"meter-boxes-grid\">\n              {userGridData.map(box => (\n                <div key={box.id} className=\"meter-box-card\">\n                  <div className=\"box-header\">\n                    <h4>{box.name}</h4>\n                    <span className=\"box-address\">{box.address}</span>\n                  </div>\n                  <div className=\"meter-layout-display\">\n                    <div dangerouslySetInnerHTML={{\n                      __html: generateMeterLayoutHtml(box.meterLayout)\n                    }} />\n                  </div>\n                  <div className=\"box-stats\">\n                    <span>总表位: {box.meterLayout.totalMeters}</span>\n                    <span>异常: {box.meterLayout.meters.filter(m => m.status !== '正常').length}</span>\n                    <span>欠费: {box.meterLayout.meters.filter(m => m.paymentStatus === '欠费').length}</span>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MapComponent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}